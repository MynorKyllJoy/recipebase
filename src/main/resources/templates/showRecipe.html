<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Index</title>
</head>
<body>
<div th:replace="~{fragments/header}"></div>
<div>
  <h1>[[${recipe.getTitle()}]]</h1>
  <p>[[${recipe.getDescription()}]]</p>
  <p>[[${recipe.getSource()}]]</p>
  <ul th:each="requirement:${recipe.getRequiredIngredients()}">
    <li>[[${requirement.getIngredient().getName()}]]</li>
  </ul>
  <div th:if="${recipe.getInstructions().size() > 1}">
    <table>
      <thead>
        <tr>
          <th>Step</th>
          <th>Instruction</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="instruction, iter:${recipe.getInstructions()}">
          <td th:text="${iter.index+1}"></td>
          <td th:text="${instruction}"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div th:unless="${recipe.getInstructions().size() > 1}">
    <p>Instructions</p>
    <p>[[${recipe.getInstructions().get(0)}]]</p>
  </div>
</div>
</body>
</html>